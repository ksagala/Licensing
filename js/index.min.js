function updateFlag(a,e){e?(a.classList.contains("unflagged")&&a.classList.remove("unflagged"),a.classList.contains("flagged")||a.classList.add("flagged"),a.title="Remove flag"):(a.classList.contains("flagged")&&a.classList.remove("flagged"),a.classList.contains("unflagged")||a.classList.add("unflagged"),a.title="Flag this diagram")}function flagClick(a){const e=a.target,t=e.nextSibling,l=t.pathname.slice(1,-4),s=PageData.Flags.indexOf(l);-1===s?(PageData.Flags.push(l),updateFlag(e,!0)):(PageData.Flags.splice(s,1),updateFlag(e,!1)),localStorage.setItem(StoreName.Flags,JSON.stringify(PageData.Flags))}function flagAllClick(a){a.preventDefault(),PageData.Flags=[];const e=document.getElementsByClassName("link-text");for(const a of e){const e=a.pathname.slice(1,-4);PageData.Flags.push(e);const t=a.previousSibling;updateFlag(t,!0)}const t=JSON.stringify(PageData.Flags);localStorage.setItem(StoreName.Flags,t)}function clearFlagsClick(a){a.preventDefault(),PageData.Flags=[];const e=JSON.stringify(PageData.Flags);localStorage.setItem(StoreName.Flags,e);const t=document.getElementsByClassName("link-text");for(const a of t){const e=a.previousSibling;updateFlag(e,!1)}}function setupFlags(){const a=localStorage.getItem(StoreName.Flags);a&&(PageData.Flags=JSON.parse(a));const e=document.getElementsByClassName("flag-button");for(const a of e){a.addEventListener("click",flagClick);const e=a.nextSibling,t=e.pathname.slice(1,-4),l=-1!==PageData.Flags.indexOf(t);updateFlag(a,l)}document.getElementById("clear-all").addEventListener("click",clearFlagsClick),document.getElementById("flag-all").addEventListener("click",flagAllClick)}function DOMContentLoaded(){isEmbedded()&&(document.getElementById("footer").style.display="none"),setupOfflineIndicator(),setupFlags(),-1!==navigator.userAgent.indexOf("Trident/")&&(document.getElementById("ie-warning").style.display="block")}const PageData={Flags:[]};document.addEventListener("DOMContentLoaded",DOMContentLoaded);