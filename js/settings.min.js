function saveClick(){Settings.Highlight1=document.getElementById("highlight1").value,Settings.Highlight2=document.getElementById("highlight2").value,Settings.Highlight3=document.getElementById("highlight3").value,Settings.Menu=document.getElementById("menu-state").value,Settings.Theme=document.getElementById("theme").value,Settings.Zoom=document.getElementById("zoom").value,saveSettings(),isEmbedded()||window.history.back()}function selectByLabel(e,t){for(const n of e.options)if(n.label===t)return n.selected=!0,!0;return!1}function setControlValues(){document.getElementById("highlight1").value=Settings.Highlight1,document.getElementById("highlight2").value=Settings.Highlight2,document.getElementById("highlight3").value=Settings.Highlight3,selectByLabel(document.getElementById("menu-state"),Settings.Menu),selectByLabel(document.getElementById("zoom"),Settings.Zoom),selectByLabel(document.getElementById("theme"),Settings.Theme)}function defaultsClick(){defaultSettings(),setControlValues(),setTheme(document.getElementById("theme").value)}function setupEventListeners(){document.getElementById("defaults").addEventListener("click",defaultsClick),document.getElementById("save").addEventListener("click",saveClick),document.getElementById("cancel").addEventListener("click",()=>window.history.back()),document.getElementById("theme").addEventListener("change",e=>setTheme(e.target.value))}function DOMContentLoaded(){isEmbedded()&&(document.getElementById("menu").style.display="none",document.getElementById("cancel").style.display="none"),setupOfflineIndicator(),setupModal(),setControlValues(),setupEventListeners()}document.addEventListener("DOMContentLoaded",DOMContentLoaded);