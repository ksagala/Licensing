function saveClick(){Common.Settings.Highlight1=document.getElementById("highlight1").value,Common.Settings.Highlight2=document.getElementById("highlight2").value,Common.Settings.Highlight3=document.getElementById("highlight3").value,Common.Settings.Menu=document.getElementById("menuState").value,Common.Settings.Theme=document.getElementById("theme").value,Common.Settings.Zoom=document.getElementById("zoom").value,Common.saveSettings(),window.location.href="/"}function themeSelectChange(e){Common.setTheme(e.target.value)}function appOffline(){document.getElementById("offline").style.display="block"}function appOnline(){document.getElementById("offline").style.display="none"}function setOption(e,t){const n=e.getElementsByTagName("option");for(let e=0;e<n.length;e+=1){const o=n[e];o.text===t&&(o.selected=!0)}}function setControlValues(){document.getElementById("highlight1").value=Common.Settings.Highlight1,document.getElementById("highlight2").value=Common.Settings.Highlight2,document.getElementById("highlight3").value=Common.Settings.Highlight3,setOption(document.getElementById("menuState"),Common.Settings.Menu),setOption(document.getElementById("zoom"),Common.Settings.Zoom),setOption(document.getElementById("theme"),Common.Settings.Theme)}function defaultsClick(){Common.defaultSettings(),setControlValues(),Common.setTheme(document.getElementById("theme").value)}function cancelClick(){window.location.href="/"}function deleteAllCaches(){caches.keys().then(function(e){e.forEach(function(e){caches.delete(e)})})}function unregisterServiceWorkers(){navigator.serviceWorker.getRegistrations().then(function(e){for(let t=0;t<e.length;t+=1){const n=e[t];n.unregister()}})}function processHashInstruction(){switch(window.location.hash){case"#nocache":deleteAllCaches(),Common.customAlert("Deleted all Caches");break;case"#unregister":unregisterServiceWorkers(),Common.customAlert("Unregistered Service Workers");break;case"#deletestorage":localStorage.clear(),Common.customAlert("Deleted Storage")}}function pageLoad(){setControlValues(),processHashInstruction(),Common.isIE&&Common.fixToMaxItemWidth("settings-header",16,!1),document.getElementById("theme").addEventListener("change",themeSelectChange),document.getElementById("defaults").addEventListener("click",defaultsClick),document.getElementById("save").addEventListener("click",saveClick),document.getElementById("cancel").addEventListener("click",cancelClick),document.getElementById("offline").style.display=navigator.onLine?"none":"block",window.addEventListener("offline",appOffline),window.addEventListener("online",appOnline)}window.addEventListener("load",pageLoad);